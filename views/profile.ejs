<%- include("./partials/header.ejs") %>
    <div class="h-2/3 w-full bg-zinc-700 pt-1">
        <form hidden id="uploadform" action="/fileupload" method="post" enctype="multipart/form-data">
            <input type="file" name="image">
        </form>
        <div class="h-32 w-32 mx-auto mt-10 rounded-full bg-zinc-500 overflow-hidden">
            <img class="h-full w-full object-cover" src="/images/uploads/<%=user.profileImage%>" alt="">
        </div>
        <div class="relative flex items-center justify-center">
            <span id="uploadicon" class="translate-x-12 translate-y-[-10px] h-8 w-8 bg-zinc-800 rounded-full absolute flex items-center justify-center hover:cursor-pointer">
                <i class="ri-pencil-line text-white"></i>
            </span>
        </div>
        <h2 class="text-2xl text-white text-center mt-6"><%=user.fullname%></h2>
        <h3 class="opacity-50 text-lg text-white text-center">@<%=user.username%></h3>

        <div class="flex justify-center items-center gap-6 mt-4">
            <a class="px-4 py-2 text-lg text-white bg-zinc-500 rounded-full" href="/edit">Edit</a>
            <a class="px-4 py-2 text-lg text-white bg-red-700 rounded-lg" href="/add">Add New Pin</a>
        </div>
    </div>
    <div class="w-full bg-zinc-700 px-10">
        <div class="cards flex flex-wrap gap-10">
            <div class="card mb-2 overflow-hidden">
                <img class="mb-2 rounded-lg object-cover h-32 w-48 rounded-lg bg-sky-700 mb-2" src="/images/uploads/<%=user?.posts[0]?.image%>" alt="">
                <a href="/show" class="block text-white text-lg">All Pins</a>
                <a href="/show" class="block text-white text-sm opacity-50"><%= user.posts.length %> Pins</a>
            </div>
        </div>
    </div>

    <script>
        document.querySelector("#uploadicon").addEventListener("click", function(){
            document.querySelector('#uploadform input').click();
        })

        document.querySelector("#uploadform input").addEventListener("change",function(){
            document.querySelector("#uploadform").submit();
        })
    </script>

<%- include("./partials/footer.ejs") %>